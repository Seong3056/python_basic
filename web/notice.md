ORM(Object-relation mapping, 객체 관계 매핑)
- 데이터베이스의 데이터를 객체와 연결해주는 기능
- Model클래스는 데이터베이스의 테이블의 형태를 나타냄
- Model클래스를 통해 데이터를 가져올 때는 모델의 objects속성을 사용

-전체 데이터목록 가져오기
    - 모델.objects.all()

- 특정 조건을 만족하는 데이터 한 개의 정보를 가져오기
    - 모델.objects.get(조건)

-특정 조건을 만족하는 데이터들의 정보 가져오기
    - 모델.objects.filter(조건)

웹에서 데이터를 전송하는 방법
- GET
- 서버에 보낼 데이터가 공개되어도 상관없는 경우

- POST
- 요청 자체에 데이터를 담아 보내며, 외부에 노출되어서는 안되는 비밀값을 사용할 때 주로 사용

정적 파일(static files)
- 사전적으로는 변화가 없는 파일
- 웹프레임워크에서 정적파일이란 프레임워크의 소스코드를 제외한 나머지 이미지, 동영상, CSS, JavaScript 파일등
- 소스코드는 일반적으로 동적인 결과물을 만들어내는데 사용
정적 파일은 사용자에게 변형 없이 언제나 동일한 형태로 제공됨

템플릿에서 정적파일 사용
    - 템플릿에서 정적파일을 불러올 때는
    - `{% static '정적파일경로' %}`

유저가 업로드하는 정적파일

정적파일의 분류
- Django에서 정적파일은 두 가지로 나뉨
    - 소스코드에 포함되는 정적파일
    - 유저가 업로드하는 정적파일

- 이전에 정적파일을 넣어뒀던 디렉터리는 소스코드에 포함되는 정적파일을 두는 곳
    - 프로젝트의 일부분으로 취급됨

- 유저가 업로드하는 정적파일은 프로젝트에 포함되지 않음
    - 블로그라는 전체 프로젝트와는 별개로 블로그를 사용하는 사용자들이 업로드하는 글에 포함된 이미지와 같은 데이터

유저가 업로드하는 정적파일 설정
- setting.py에서 소스코드에 포함되는 정적파일의 설정은 STATIC_ 로 시작하고, 유저가 업로드하는 정적파일 설정은 MEDIA_ 로 시작함

- MEDIA_URL
    - 유저가 업로드한 파일에 접근할 수 있도록 브라우저에 제공하는 경로 접두어
    - 소스코드에 포함되는 정적파일은 STATIC_URL 이라는 설정값을 사용하며, 기본값은 "/static/"

- MEDIA_ROOT
    - 실제로 유저가 업로드한 파일이 저장될 경로

동적 URL 경로
"posts/<int:post_id>/"
┗ int : 정수 형태의 값을 받도록 제한한다는 의미
┗ post_id : <와> 사이의 영역이 post_id라는 이름을 가진다는 의미

사용자의 입력을 받는 Template
- HTML에서 사용자의 입력을 받는 요소는
    - 입력에 대한 제목: <label>
    - 한 줄 짜리 텍스트 입력: <input type='text'>
    - 여러 줄 텍스트 입력: <textarea>
    - 버튼: <button>

- 사용자의 입력을 받는 요소는 form태그로 감싼다.
- div로 각각의 입력할 항목들을 감싸고, 내부에 lable로 해당 항목의 이름을 표시

POST 요청에 대한 Forbidden 오류
- 403 Forbidden: 요청은 받았으나 그요청을 처리할 권한이 없기 때문에 서버에서 거부함

- CSRF 공격
    - CSRF 인증에 실패하여 요청이 중단됨
    - CSRF: Cross-Site-Request-Forgery (사이트간 요청 위조)

- Django에서 처리하는 GET과 POST 요청 
    - 지금까지 CSRF 인증오류가 발생하지 않은 이유는 Django가 데이터를 처리하는 방식이 GET/POST에 따라 다르기 때문
    - GET은 사이트의 특정페이지에 접속하거나, 검색을 하는 등의 읽기/조회 행동을 
        
    - -수행하는데 쓰임브라우저별로 구분되는 값은 서버에 저장되므로 브라우저를 이용하는 사람(이용자또는 해커)은 그값을 알 수 없음
    - 3. POST요청을 하는 form이 브라우저별로 구분되는 값을 가지지 않는다면 요청 거부
    - POST는 사이트의 특정 데이터를 변경/작성하는데 쓰임
    - 따라서 Django는 POST 요청에 대해서 GET요청초바 더높은 보안수준을 적용

- Django의 CSRF 공격 방어기법
    - CSRF 공격 방어의 핵심은 로그인한 사용자가 의도하지 않은 POST요청을 거부하는것
        - 1. Django는 새로운 요청을 하는 브라우저마다 구분되는 값을 서버에 저장
        - 2. POST요청을 하는 form이 브라우저별로 구분되는 값을 가지지 않는다면 요청 거부        
    - 브라우저별로 구분되는 값은 서버에 저장되므로 브라우저를 이용하는 사람(이용자또는 해커)은 그값을 알 수 없음
        - 3. Template 파일에서 {% csrf_token %} 태그를 사용하면 이 영역은 브라우저별로 구분되는 값으로 치환됨

POST 데이터를 사용한 DB row 생성
- ORM을 사용해서 DB에서 데이터를 생성할 때는 create 메서드를 사용
    - create_instance = 모델.objects.create(필드명=필드값)

댓글작성
- 글 작성과의 차이점
    - 제목이 없음
    - 작성한 댓글이 반드시 어떤 글(Post)에 소속되어야 함

글 작성 시 이미지 업로드
- Post 모델에는 썸네일을 다루는 이미지 필드가 있음
- 텍스트와 다르게 이미지와 같은 파일을 form으로 전달받으려면 별도의 처리가 필요
- 파일을 첨부할 때는 <input type="file">태그를 사용

- 파일을 전송해야하는 form에는 enctype="multipart/form-data"속성을 추가해야함
    - enctype 속성은 데이터를 서버로 전송할 때 어떤 인코딩 유형을 쓸 것인지 나타냄
    - 인코딩은 form에 추가한데이터를 어떤 방식으로 변환 시킬 것인지 정하는 규격
    - form에 별도로 enctype을 지정하지 않는다면 텍스트 데이터만 보낼 수 있음

    - view에서 POST메서드로 전달받은 데이터는 request.POST에서 가져옴
    - 전송된 파일은 request.FILES 에서 가져와야함